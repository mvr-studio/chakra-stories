import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs'
import ModalStories from './'
import { Box, useDisclosure, Button, Heading, Text, HStack, Avatar, Flex, Center } from '@chakra-ui/react'

<Meta title="Components/ModalStories" component={ModalStories} />

# ModalStories

## Basic

<Canvas>
  <Story name="Basic">
    {() => {
      const { isOpen, onClose, onOpen } = useDisclosure()
      return (
        <Box>
          <Button onClick={onOpen}>Open Stories</Button>
          <ModalStories isOpen={isOpen} onClose={onClose}>
            <Box>
              <Heading>Chakra Stories</Heading>
              <Text marginTop="1rem">Welcome to a super simple Instagram like stories component for Chakra UI.</Text>
              <Text marginTop="1rem">Click the right area of this card to navigate to the next story.</Text>
            </Box>
            <Box>
              <Heading>Arrow Keys</Heading>
              <Text marginTop="1rem">
                For the navigation purposes, you can also use arrow keys to change the current story.
              </Text>
            </Box>
            <Box>
              <Heading>And that's it</Heading>
              <Text marginTop="1rem">Have fun and let us know what do you think about it.</Text>
              <Text marginTop="1rem">Try dragging the card down to close stories.</Text>
            </Box>
          </ModalStories>
        </Box>
      )
    }}
  </Story>
</Canvas>

## Timed Stories

<Canvas>
  <Story name="Timed Stories">
    {() => {
      const { isOpen, onClose, onOpen } = useDisclosure()
      return (
        <Box>
          <Button onClick={onOpen}>Open Stories</Button>
          <ModalStories isOpen={isOpen} onClose={onClose} storyDuration={4}>
            <Box>First</Box>
            <Box>Second</Box>
            <Box>Third</Box>
          </ModalStories>
        </Box>
      )
    }}
  </Story>
</Canvas>

## Handle Stories end

<Canvas>
  <Story name="Handle Stories end">
    {() => {
      const { isOpen, onClose, onOpen } = useDisclosure()
      return (
        <Box>
          <Button onClick={onOpen}>Open Stories</Button>
          <ModalStories isOpen={isOpen} onClose={onClose} storyDuration={4} onStoriesCompleted={onClose}>
            <Box>First</Box>
            <Box>Second</Box>
            <Box>Third</Box>
          </ModalStories>
        </Box>
      )
    }}
  </Story>
</Canvas>

## Indicator Customization

<Canvas>
  <Story name="Indicator Customization">
    {() => {
      const { isOpen, onClose, onOpen } = useDisclosure()
      return (
        <Box>
          <Button onClick={onOpen}>Open Stories</Button>
          <ModalStories
            isOpen={isOpen}
            onClose={onClose}
            storyDuration={4}
            indicator={{ activeColor: 'red.300', inactiveColor: 'yellow.200' }}
          >
            <Box>First</Box>
            <Box>Second</Box>
            <Box>Third</Box>
          </ModalStories>
        </Box>
      )
    }}
  </Story>
</Canvas>

## Top Bar

<Canvas>
  <Story name="Top Bar">
    {() => {
      const { isOpen, onClose, onOpen } = useDisclosure()
      return (
        <Box>
          <Button onClick={onOpen}>Open Stories</Button>
          <ModalStories
            isOpen={isOpen}
            onClose={onClose}
            storyDuration={4}
            components={{
              renderTopBar: ({ currentStory, storiesCount }) => (
                <Flex justify="space-between">
                  <HStack marginBottom="0.5rem">
                    <Avatar name="John Doe" size="sm" />
                    <Text>John Doe</Text>
                  </HStack>
                  <Text>
                    {currentStory}/{storiesCount}
                  </Text>
                </Flex>
              )
            }}
          >
            <Box>First</Box>
            <Box>Second</Box>
            <Box>Third</Box>
          </ModalStories>
        </Box>
      )
    }}
  </Story>
</Canvas>

## Bottom Bar

<Canvas>
  <Story name="Bottom Bar">
    {() => {
      const { isOpen, onClose, onOpen } = useDisclosure()
      return (
        <Box>
          <Button onClick={onOpen}>Open Stories</Button>
          <ModalStories
            isOpen={isOpen}
            onClose={onClose}
            storyDuration={4}
            components={{
              renderBottomBar: () => (
                <Center paddingY="0.5rem">
                  <Button>Read More</Button>
                </Center>
              )
            }}
          >
            <Box>First</Box>
            <Box>Second</Box>
            <Box>Third</Box>
          </ModalStories>
        </Box>
      )
    }}
  </Story>
</Canvas>

## Handle Drag Up

<Canvas>
  <Story name="Handle Drag Up">
    {() => {
      const { isOpen, onClose, onOpen } = useDisclosure()
      const handleDragUp = ({ currentStory, storiesCount }) => {
        console.log(`Story: ${currentStory}/${storiesCount}`)
        window.open('https://mvr.studio', '_blank').focus()
      }
      return (
        <Box>
          <Button onClick={onOpen}>Open Stories</Button>
          <ModalStories isOpen={isOpen} onClose={onClose} storyDuration={4} onDragUp={handleDragUp}>
            <Box>First</Box>
            <Box>Second</Box>
            <Box>Third</Box>
          </ModalStories>
        </Box>
      )
    }}
  </Story>
</Canvas>
